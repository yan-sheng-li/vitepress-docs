import{_ as r,c as e,o,aj as l}from"./chunks/framework.VtnL2jmu.js";const u=JSON.parse('{"title":"Crontab定时任务","description":"","frontmatter":{},"headers":[],"relativePath":"Linux/Crontab定时任务.md","filePath":"Linux/Crontab定时任务.md"}'),n={name:"Linux/Crontab定时任务.md"};function i(t,a,c,d,s,h){return o(),e("div",null,[...a[0]||(a[0]=[l('<h1 id="crontab定时任务" tabindex="-1">Crontab定时任务 <a class="header-anchor" href="#crontab定时任务" aria-label="Permalink to “Crontab定时任务”">​</a></h1><p>以下是 crontab 的一些常用命令：</p><h3 id="任务编辑" tabindex="-1">任务编辑 <a class="header-anchor" href="#任务编辑" aria-label="Permalink to “任务编辑”">​</a></h3><ul><li><strong>crontab -e</strong>：编辑当前用户的 crontab 任务列表，打开默认的编辑器（一般是 vi 或 nano），可以在其中添加、修改或删除定时任务。</li><li><strong>crontab -u &lt;用户名&gt; -e</strong>：编辑指定用户的 crontab 任务列表，需要有相应的权限。</li></ul><h3 id="任务查看" tabindex="-1">任务查看 <a class="header-anchor" href="#任务查看" aria-label="Permalink to “任务查看”">​</a></h3><ul><li><strong>crontab -l</strong>：列出当前用户的所有定时任务。</li><li><strong>crontab -u &lt;用户名&gt; -l</strong>：列出指定用户的所有定时任务。</li></ul><h3 id="任务删除" tabindex="-1">任务删除 <a class="header-anchor" href="#任务删除" aria-label="Permalink to “任务删除”">​</a></h3><ul><li><strong>crontab -r</strong>：删除当前用户的所有定时任务，删除前需谨慎确认，因为此操作不可恢复。</li><li><strong>crontab -u &lt;用户名&gt; -r</strong>：删除指定用户的所有定时任务。</li><li><strong>crontab -ir</strong>：在删除当前用户的所有定时任务之前，会先进行交互询问确认。</li></ul><h3 id="服务管理" tabindex="-1">服务管理 <a class="header-anchor" href="#服务管理" aria-label="Permalink to “服务管理”">​</a></h3><ul><li><strong>/sbin/service crond start</strong>：启动 crond 服务，该服务负责定期检查并执行定时任务。</li><li><strong>/sbin/service crond stop</strong>：停止 crond 服务。</li><li><strong>/sbin/service crond restart</strong>：重启 crond 服务。</li><li><strong>/sbin/service crond reload</strong>：重新载入 crond 服务的配置文件，使配置生效，无需重启服务。</li></ul><h3 id="从文件加载任务" tabindex="-1">从文件加载任务 <a class="header-anchor" href="#从文件加载任务" aria-label="Permalink to “从文件加载任务”">​</a></h3><ul><li><strong>crontab &lt;文件名&gt;</strong>：将指定文件中的内容加载为当前用户的 crontab 任务，文件中的每一行应符合 crontab 的任务格式。</li></ul><h3 id="添加-selinux-属性" tabindex="-1">添加 SELinux 属性 <a class="header-anchor" href="#添加-selinux-属性" aria-label="Permalink to “添加 SELinux 属性”">​</a></h3><ul><li><strong>crontab -s &lt;文件名&gt;</strong>：在从文件中加载 crontab 任务时，添加包含当前 SELinux 安全上下文的变量，若不使用 SELinux 则无需关注此命令。</li></ul><p>在 crontab 中，时间格式由五个字段组成，从左到右依次是：分、时、日、月、周。每个字段的取值范围和含义如下：</p><h3 id="分钟-0-59" tabindex="-1">分钟（0 - 59） <a class="header-anchor" href="#分钟-0-59" aria-label="Permalink to “分钟（0 - 59）”">​</a></h3><ul><li>可以是一个固定的数字，比如<code>30</code>，代表 30 分钟的时候执行。</li><li>也可以是一个范围，如<code>10-20</code>，代表从 10 分钟到 20 分钟之间每分钟都执行。</li><li>还可以是间隔时间，像<code>*/5</code>，表示每隔 5 分钟执行一次。</li></ul><h3 id="小时-0-23" tabindex="-1">小时（0 - 23） <a class="header-anchor" href="#小时-0-23" aria-label="Permalink to “小时（0 - 23）”">​</a></h3><ul><li>例如，<code>12</code>表示 12 点执行；<code>8-10</code>表示 8 点、9 点、10 点都执行；<code>*/2</code>表示每隔 2 个小时执行一次。</li></ul><h3 id="日期-1-31" tabindex="-1">日期（1 - 31） <a class="header-anchor" href="#日期-1-31" aria-label="Permalink to “日期（1 - 31）”">​</a></h3><ul><li>如<code>15</code>代表 15 号执行；<code>1-5</code>表示 1 号到 5 号每天都执行；<code>*/3</code>意思是每隔 3 天执行一次。</li></ul><h3 id="月份-1-12" tabindex="-1">月份（1 - 12） <a class="header-anchor" href="#月份-1-12" aria-label="Permalink to “月份（1 - 12）”">​</a></h3><ul><li>例如，<code>6</code>表示 6 月份执行；<code>3-6</code>表示 3、4、5、6 月执行；<code>*/2</code>即每隔 2 个月执行一次。</li></ul><h3 id="星期-0-6-0-代表周日-1-6-代表周一到周六" tabindex="-1">星期（0 - 6，0 代表周日，1 - 6 代表周一到周六） <a class="header-anchor" href="#星期-0-6-0-代表周日-1-6-代表周一到周六" aria-label="Permalink to “星期（0 - 6，0 代表周日，1 - 6 代表周一到周六）”">​</a></h3><ul><li>比如，<code>0</code>表示周日执行；<code>1,3,5</code>代表周一、周三、周五执行；<code>*/2</code>是每隔 2 天（按星期算）执行一次。</li></ul><p>这些字段间用空格分隔，例如<code>30 12 * * *</code>代表每天 12 点 30 分执行任务。</p>',26)])])}const g=r(n,[["render",i]]);export{u as __pageData,g as default};
