import{_ as i,c as a,o as t,aj as n}from"./chunks/framework.VtnL2jmu.js";const g=JSON.parse('{"title":"requests+正则匹配","description":"","frontmatter":{},"headers":[],"relativePath":"Python/requests+正则匹配.md","filePath":"Python/requests+正则匹配.md"}'),e={name:"Python/requests+正则匹配.md"};function l(h,s,k,p,r,d){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="requests-正则匹配" tabindex="-1">requests+正则匹配 <a class="header-anchor" href="#requests-正则匹配" aria-label="Permalink to “requests+正则匹配”">​</a></h1><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to “示例”">​</a></h2><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> re</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 抓取目标url的侧导航栏</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;https://www.liyansheng.top/project/&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;User-Agent&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/119.0&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __name__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;__main__&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.get(index_url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers).text</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">re.findall(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;a href=&quot;(.*?)&quot; class=&quot;sidebar-link&quot;&gt;.*?&lt;/a&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,res_data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> re.findall(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;a href=&quot;.*?&quot; class=&quot;sidebar-link&quot;&gt;(.*?)&lt;/a&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, res_data)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://www.liyansheng.top&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e)</span></span></code></pre></div><p><img src="http://cdn.qiniu.liyansheng.top/img/20241222151706.png" alt=""></p><h2 id="正则解释" tabindex="-1">正则解释 <a class="header-anchor" href="#正则解释" aria-label="Permalink to “正则解释”">​</a></h2><p>如：</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">title </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> re.findall(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;h1&gt;(.*?)&lt;/h1&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, res_data)</span></span></code></pre></div><p>(.*?)：这是一个捕获组，其中：</p><ul><li><code>.</code>表示匹配除换行符之外的任意字符。</li><li><code>*</code>表示前面的字符（这里就是<code>.</code>所代表的任意字符）可以出现零次或多次。</li><li><code>?</code>是一个非贪婪（或叫懒惰）限定符，它使得<code>*</code>的匹配尽可能少的字符，而不是默认的尽可能多的字符。在这里就是匹配<code>&lt;h1&gt;</code>和<code>&lt;/h1&gt;</code>之间的内容，一旦遇到<code>&lt;/h1&gt;</code>就停止匹配该捕获组内的内容了，这样能精准获取到我们想要的<code>&lt;h1&gt;</code>标签内的文本。</li></ul>`,9)])])}const o=i(e,[["render",l]]);export{g as __pageData,o as default};
