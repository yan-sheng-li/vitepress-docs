import{_ as i,c as a,o as n,aj as t}from"./chunks/framework.VtnL2jmu.js";const o=JSON.parse('{"title":"nginxé…ç½®è„šæœ¬æ³¨å…¥","description":"","frontmatter":{},"headers":[],"relativePath":"Linux/nginxé…ç½®è„šæœ¬æ³¨å…¥.md","filePath":"Linux/nginxé…ç½®è„šæœ¬æ³¨å…¥.md"}'),e={name:"Linux/nginxé…ç½®è„šæœ¬æ³¨å…¥.md"};function l(h,s,p,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="nginxé…ç½®è„šæœ¬æ³¨å…¥" tabindex="-1">nginxé…ç½®è„šæœ¬æ³¨å…¥ <a class="header-anchor" href="#nginxé…ç½®è„šæœ¬æ³¨å…¥" aria-label="Permalink to â€œnginxé…ç½®è„šæœ¬æ³¨å…¥â€">â€‹</a></h1><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>https://www.liyansheng.top/cdn/watermark2.js</span></span></code></pre></div><p><strong>åŸç”Ÿ Nginx å°±èƒ½å®ç°ã€æœ€ç®€å•ã€æœ€ç¨³å®šçš„æ–¹æ¡ˆ</strong> â€”â€” ä½¿ç”¨ <code>sub_filter</code> æ³¨å…¥ <code>&lt;script&gt;</code>ã€‚</p><blockquote><p>âœ” ä¸éœ€è¦ä¿®æ”¹ä»»ä½• HTML æ–‡ä»¶ âœ” ä¸éœ€è¦ OpenResty âœ” æµè§ˆå™¨è®¿é—®ä»»æ„ HTML æ—¶éƒ½ä¼šè‡ªåŠ¨åŠ è½½æ°´å°</p></blockquote><p>åœ¨ä½ çš„ location ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /YunnanTourismWeb/ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    alias </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/usr/share/nginx/html/YunnanTourismWeb/;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try_files </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$uri $uri/ /YunnanTourismWeb/index.html;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # ---------- æ³¨å…¥è„šæœ¬ ----------</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    sub_filter_once </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">off</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    sub_filter_types </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">text/html;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    proxy_set_header </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Accept-Encoding </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¦ç”¨ gzip æ‰èƒ½æ›¿æ¢å†…å®¹</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    sub_filter </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;/head&gt;&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&lt;script src=&#39;https://www.liyansheng.top/cdn/watermark2.js&#39;&gt;&lt;/script&gt;&lt;/head&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="âš ï¸-æ³¨æ„äº‹é¡¹" tabindex="-1">âš ï¸ æ³¨æ„äº‹é¡¹ <a class="header-anchor" href="#âš ï¸-æ³¨æ„äº‹é¡¹" aria-label="Permalink to â€œâš ï¸ æ³¨æ„äº‹é¡¹â€">â€‹</a></h3><p>ä¸ºäº†è®© <code>sub_filter</code> å·¥ä½œï¼Œ<strong>å¿…é¡»ç¦ç”¨ gzip å‹ç¼©</strong>ï¼Œæ‰€ä»¥åŠ äº†ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>proxy_set_header Accept-Encoding &quot;&quot;;</span></span></code></pre></div><p>å¦åˆ™ HTML æ˜¯ gzip çš„ï¼Œæ— æ³•åšå­—ç¬¦ä¸²æ›¿æ¢ã€‚</p><h3 id="æ³¨å…¥æ•ˆæœ" tabindex="-1">æ³¨å…¥æ•ˆæœ <a class="header-anchor" href="#æ³¨å…¥æ•ˆæœ" aria-label="Permalink to â€œæ³¨å…¥æ•ˆæœâ€">â€‹</a></h3><p>æ¯ä¸ª HTML çš„ <code>&lt;/head&gt;</code> å‰ä¼šè‡ªåŠ¨å¤šå‡ºï¼š</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.liyansheng.top/cdn/watermark2.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>ä»»ä½•æ–‡ä»¶ï¼š</p><ul><li><code>index.html</code></li><li><code>a.html</code></li><li><code>user/detail.html</code></li><li>ä»»æ„ Vueã€React æ‰“åŒ…ç”Ÿæˆçš„ HTML</li></ul><p>éƒ½ä¼šè‡ªåŠ¨å¸¦æ°´å°ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¾‘ã€‚</p><hr><h2 id="ğŸ§ª-å¦‚ä½•éªŒè¯" tabindex="-1">ğŸ§ª å¦‚ä½•éªŒè¯ï¼Ÿ <a class="header-anchor" href="#ğŸ§ª-å¦‚ä½•éªŒè¯" aria-label="Permalink to â€œğŸ§ª å¦‚ä½•éªŒè¯ï¼Ÿâ€">â€‹</a></h2><p>é‡å¯ nginx åæµè§ˆå™¨è®¿é—®ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>/YunnanTourismWeb/xxx.html</span></span></code></pre></div><p>ç„¶åæŒ‰ F12 â†’ Elements â†’ head éƒ¨åˆ†ï¼Œä½ ä¼šçœ‹åˆ°è„šæœ¬å·²ç»è‡ªåŠ¨æ³¨å…¥ã€‚</p>`,21)])])}const c=i(e,[["render",l]]);export{o as __pageData,c as default};
