import{_ as a,c as s,o as l,aj as e}from"./chunks/framework.VtnL2jmu.js";const c=JSON.parse('{"title":"aria2多线程下载","description":"","frontmatter":{},"headers":[],"relativePath":"Linux/aria2.md","filePath":"Linux/aria2.md"}'),t={name:"Linux/aria2.md"};function h(n,i,r,k,d,p){return l(),s("div",null,[...i[0]||(i[0]=[e(`<h1 id="aria2多线程下载" tabindex="-1">aria2多线程下载 <a class="header-anchor" href="#aria2多线程下载" aria-label="Permalink to “aria2多线程下载”">​</a></h1><h2 id="_1-安装-aria2" tabindex="-1">1. 安装 aria2 <a class="header-anchor" href="#_1-安装-aria2" aria-label="Permalink to “1. 安装 aria2”">​</a></h2><ul><li><p><strong>Ubuntu/Debian</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aria2</span></span></code></pre></div></li><li><p><strong>CentOS/RHEL</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aria2</span></span></code></pre></div><p>如果默认源没有，可以通过 EPEL 源安装。</p></li><li><p><strong>MacOS</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aria2</span></span></code></pre></div></li><li><p><strong>检查是否安装成功</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aria2c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre></div></li></ul><hr><h2 id="_2-基本用法" tabindex="-1">2. 基本用法 <a class="header-anchor" href="#_2-基本用法" aria-label="Permalink to “2. 基本用法”">​</a></h2><h3 id="下载文件" tabindex="-1">下载文件 <a class="header-anchor" href="#下载文件" aria-label="Permalink to “下载文件”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aria2c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 文件名.ext</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;下载链接&#39;</span></span></code></pre></div><p>参数说明：</p><ul><li><code>-x 16</code> ：最大连接数，通常16线程下载加快速度</li><li><code>-c</code> ：断点续传</li><li><code>-o</code> ：输出文件名</li><li>URL 用单引号包裹，防止 shell 解析特殊字符</li></ul><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to “示例”">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aria2c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> example.mp3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;https://example.com/file.mp3?token=xxxx&amp;other=yyy&#39;</span></span></code></pre></div><p><img src="http://cdn.qiniu.liyansheng.top/img/20250811160713.png" alt=""></p><hr><h2 id="_3-常见问题及解决" tabindex="-1">3. 常见问题及解决 <a class="header-anchor" href="#_3-常见问题及解决" aria-label="Permalink to “3. 常见问题及解决”">​</a></h2><h3 id="_1-url-中有特殊字符导致命令失败" tabindex="-1">1) URL 中有特殊字符导致命令失败 <a class="header-anchor" href="#_1-url-中有特殊字符导致命令失败" aria-label="Permalink to “1) URL 中有特殊字符导致命令失败”">​</a></h3><ul><li>URL 带 <code>?</code>、<code>&amp;</code> 等特殊字符，必须用单引号或双引号括起来</li><li>不然 shell 会把它们当作后台符号，拆分命令出错</li></ul><h3 id="_2-中文文件名导致下载异常或乱码" tabindex="-1">2) 中文文件名导致下载异常或乱码 <a class="header-anchor" href="#_2-中文文件名导致下载异常或乱码" aria-label="Permalink to “2) 中文文件名导致下载异常或乱码”">​</a></h3><ul><li>aria2 和终端环境对中文名支持有限，最好用英文或拼音文件名</li><li>下载完用 <code>mv</code> 命令重命名为中文</li></ul><h3 id="_3-下载链接过期或权限限制" tabindex="-1">3) 下载链接过期或权限限制 <a class="header-anchor" href="#_3-下载链接过期或权限限制" aria-label="Permalink to “3) 下载链接过期或权限限制”">​</a></h3><ul><li>含时间戳或签名的链接一般有有效期，过期会返回错误状态码</li><li>需要重新生成最新的有效链接</li><li>确认网络权限，服务器可以访问该链接</li></ul><h3 id="_4-报错-http-状态码异常-如-status-959" tabindex="-1">4) 报错 HTTP 状态码异常（如 status=959） <a class="header-anchor" href="#_4-报错-http-状态码异常-如-status-959" aria-label="Permalink to “4) 报错 HTTP 状态码异常（如 status=959）”">​</a></h3><ul><li>多为链接格式问题（未加引号）或服务端拒绝请求</li><li>检查链接有效性，确认网络可达</li></ul><hr><h2 id="_4-小贴士" tabindex="-1">4. 小贴士 <a class="header-anchor" href="#_4-小贴士" aria-label="Permalink to “4. 小贴士”">​</a></h2><ul><li>用 <code>curl -I &#39;链接&#39;</code> 或 <code>wget --spider &#39;链接&#39;</code> 先检测链接是否能正常访问</li><li>如果需要下载多个文件，可写一个文本文件，一行一个 URL，用 <code>aria2c -i urls.txt</code> 批量下载</li><li>aria2 支持 BitTorrent、Metalink、HTTP/FTP 下载，非常强大，可查官方文档深入学习</li></ul>`,25)])])}const g=a(t,[["render",h]]);export{c as __pageData,g as default};
