import{_ as t,c as i,o as s,aj as a}from"./chunks/framework.VtnL2jmu.js";const u=JSON.parse('{"title":"Vue2 与 Vue3 混用问题","description":"","frontmatter":{},"headers":[],"relativePath":"uniapp/Vue2与Vue3混用问题.md","filePath":"uniapp/Vue2与Vue3混用问题.md"}'),d={name:"uniapp/Vue2与Vue3混用问题.md"};function n(l,e,o,r,h,p){return s(),i("div",null,[...e[0]||(e[0]=[a(`<h1 id="vue2-与-vue3-混用问题" tabindex="-1">Vue2 与 Vue3 混用问题 <a class="header-anchor" href="#vue2-与-vue3-混用问题" aria-label="Permalink to “Vue2 与 Vue3 混用问题”">​</a></h1><h2 id="_1-是否能混用" tabindex="-1">1. 是否能混用？ <a class="header-anchor" href="#_1-是否能混用" aria-label="Permalink to “1. 是否能混用？”">​</a></h2><ul><li>uni-app 创建项目时选择 <strong>Vue2 或 Vue3</strong> 会决定运行时，二者不能直接混用。</li><li>但 Vue3 兼容大部分 <strong>Vue2 的 Options API</strong>，所以你可以继续用 Vue2 风格写法。</li><li>Vue2 独有的 API（如 <code>beforeDestroy</code>、<code>filters</code>、<code>$on</code> 等）在 Vue3 中已被移除或替换。</li></ul><hr><h2 id="_2-vue2-与-vue3-常见对照表" tabindex="-1">2. Vue2 与 Vue3 常见对照表 <a class="header-anchor" href="#_2-vue2-与-vue3-常见对照表" aria-label="Permalink to “2. Vue2 与 Vue3 常见对照表”">​</a></h2><h3 id="生命周期" tabindex="-1">生命周期 <a class="header-anchor" href="#生命周期" aria-label="Permalink to “生命周期”">​</a></h3><table tabindex="0"><thead><tr><th>Vue2</th><th>Vue3</th></tr></thead><tbody><tr><td>created</td><td>created（仍支持）/ setup</td></tr><tr><td>beforeMount</td><td>beforeMount</td></tr><tr><td>mounted</td><td>mounted</td></tr><tr><td>beforeUpdate</td><td>beforeUpdate</td></tr><tr><td>updated</td><td>updated</td></tr><tr><td>beforeDestroy</td><td>❌ → beforeUnmount</td></tr><tr><td>destroyed</td><td>❌ → unmounted</td></tr></tbody></table><hr><h3 id="数据与逻辑" tabindex="-1">数据与逻辑 <a class="header-anchor" href="#数据与逻辑" aria-label="Permalink to “数据与逻辑”">​</a></h3><table tabindex="0"><thead><tr><th>功能</th><th>Vue2 写法</th><th>Vue3 写法</th></tr></thead><tbody><tr><td>data</td><td><code>data() { return { count: 0 } }</code></td><td><code>const count = ref(0)</code></td></tr><tr><td>computed</td><td><code>computed: { double() { return this.count*2 } }</code></td><td><code>const double = computed(() =&gt; count.value*2)</code></td></tr><tr><td>watch</td><td><code>watch: { count(v) { ... } }</code></td><td><code>watch(count, v =&gt; { ... })</code></td></tr><tr><td>methods</td><td><code>methods: { add() { this.count++ } }</code></td><td><code>const add = () =&gt; { count.value++ }</code></td></tr></tbody></table><hr><h3 id="组件与选项" tabindex="-1">组件与选项 <a class="header-anchor" href="#组件与选项" aria-label="Permalink to “组件与选项”">​</a></h3><ul><li><code>components</code> ✅</li><li><code>props</code> ✅</li><li><code>emits</code> ✅</li><li><code>provide / inject</code> ✅</li><li><code>mixins</code> ✅</li><li><code>extends</code> ✅</li><li><code>filters</code> ❌ （已移除）</li><li><code>inheritAttrs</code> ✅</li><li><code>directives</code> ✅</li></ul><hr><h2 id="_3-vue3-中的-props-用法" tabindex="-1">3. Vue3 中的 <code>props</code> 用法 <a class="header-anchor" href="#_3-vue3-中的-props-用法" aria-label="Permalink to “3. Vue3 中的 props 用法”">​</a></h2><h3 id="options-api" tabindex="-1">Options API <a class="header-anchor" href="#options-api" aria-label="Permalink to “Options API”">​</a></h3><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  props: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    title: String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    count: Number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="composition-api-setup" tabindex="-1">Composition API (<code>setup</code>) <a class="header-anchor" href="#composition-api-setup" aria-label="Permalink to “Composition API (setup)”">​</a></h3><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  title: String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  count: Number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h2 id="_4-小结" tabindex="-1">4. 小结 <a class="header-anchor" href="#_4-小结" aria-label="Permalink to “4. 小结”">​</a></h2><ul><li>Vue3 仍支持大部分 Vue2 的 Options API，迁移成本低。</li><li>生命周期有少量改名（<code>beforeDestroy → beforeUnmount</code>，<code>destroyed → unmounted</code>）。</li><li>部分 API 移除（<code>filters</code>、<code>$on</code> 等）。</li><li>Vue3 推荐 <strong>Composition API</strong>（<code>setup</code> + <code>ref</code> + <code>reactive</code> 等），更灵活。</li><li>在 uni-app 中，Vue2 的页面生命周期（如 <code>onLoad</code>、<code>onShow</code>）仍然保留，Vue2/3 都能用。</li></ul>`,22)])])}const k=t(d,[["render",n]]);export{u as __pageData,k as default};
