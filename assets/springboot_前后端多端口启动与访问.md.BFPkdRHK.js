import{_ as i,c as a,o as n,aj as e}from"./chunks/framework.VtnL2jmu.js";const g=JSON.parse('{"title":"前后端多端口启动与访问","description":"","frontmatter":{},"headers":[],"relativePath":"springboot/前后端多端口启动与访问.md","filePath":"springboot/前后端多端口启动与访问.md"}'),t={name:"springboot/前后端多端口启动与访问.md"};function l(h,s,p,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="前后端多端口启动与访问" tabindex="-1">前后端多端口启动与访问 <a class="header-anchor" href="#前后端多端口启动与访问" aria-label="Permalink to “前后端多端口启动与访问”">​</a></h1><h2 id="一、spring-boot-多端口运行" tabindex="-1">一、Spring Boot 多端口运行 <a class="header-anchor" href="#一、spring-boot-多端口运行" aria-label="Permalink to “一、Spring Boot 多端口运行”">​</a></h2><h3 id="✅-目的" tabindex="-1">✅ 目的 <a class="header-anchor" href="#✅-目的" aria-label="Permalink to “✅ 目的”">​</a></h3><p>同一个后端项目同时启动多个实例（如测试不同数据、环境、功能），通过不同端口访问。</p><h3 id="✅-方法" tabindex="-1">✅ 方法 <a class="header-anchor" href="#✅-方法" aria-label="Permalink to “✅ 方法”">​</a></h3><h4 id="方式一-idea-多运行配置-推荐" tabindex="-1">方式一：IDEA 多运行配置（推荐） <a class="header-anchor" href="#方式一-idea-多运行配置-推荐" aria-label="Permalink to “方式一：IDEA 多运行配置（推荐）”">​</a></h4><ol><li><p>打开 <strong>Run → Edit Configurations</strong></p></li><li><p>复制已有的启动配置</p></li><li><p>在 <em>Program arguments</em> 添加：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>--server.port=8081</span></span></code></pre></div></li><li><p>分别启动两个配置：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>http://localhost:8080</span></span>
<span class="line"><span>http://localhost:8081</span></span></code></pre></div></li></ol><h4 id="方式二-命令行启动" tabindex="-1">方式二：命令行启动 <a class="header-anchor" href="#方式二-命令行启动" aria-label="Permalink to “方式二：命令行启动”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> target/app.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --server.port=8080</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> target/app.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --server.port=8081</span></span></code></pre></div><h4 id="方式三-多环境配置-profiles" tabindex="-1">方式三：多环境配置（profiles） <a class="header-anchor" href="#方式三-多环境配置-profiles" aria-label="Permalink to “方式三：多环境配置（profiles）”">​</a></h4><p>在 <code>application.yml</code>：</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  profiles</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    active</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      on-profile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dev</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spring</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    activate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      on-profile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8081</span></span></code></pre></div><p>启动参数：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--spring.profiles.active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--spring.profiles.active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">test</span></span></code></pre></div><hr><h2 id="二、vue3-多端口运行-基于-vite" tabindex="-1">二、Vue3 多端口运行（基于 Vite） <a class="header-anchor" href="#二、vue3-多端口运行-基于-vite" aria-label="Permalink to “二、Vue3 多端口运行（基于 Vite）”">​</a></h2><h3 id="✅-目的-1" tabindex="-1">✅ 目的 <a class="header-anchor" href="#✅-目的-1" aria-label="Permalink to “✅ 目的”">​</a></h3><p>同时运行多个前端实例，分别访问不同后端端口（或不同环境）。</p><h3 id="✅-方法-1" tabindex="-1">✅ 方法 <a class="header-anchor" href="#✅-方法-1" aria-label="Permalink to “✅ 方法”">​</a></h3><h4 id="方式一-命令行直接指定端口" tabindex="-1">方式一：命令行直接指定端口 <a class="header-anchor" href="#方式一-命令行直接指定端口" aria-label="Permalink to “方式一：命令行直接指定端口”">​</a></h4><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5174</span></span></code></pre></div><h4 id="方式二-package-json-定义多个命令" tabindex="-1">方式二：<code>package.json</code> 定义多个命令 <a class="header-anchor" href="#方式二-package-json-定义多个命令" aria-label="Permalink to “方式二：package.json 定义多个命令”">​</a></h4><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vite&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dev2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vite --port 5174&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="方式三-使用多环境文件-推荐" tabindex="-1">方式三：使用多环境文件（推荐） <a class="header-anchor" href="#方式三-使用多环境文件-推荐" aria-label="Permalink to “方式三：使用多环境文件（推荐）”">​</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>.env.dev1</span></span>
<span class="line"><span>VITE_PORT=5173</span></span>
<span class="line"><span>VITE_API_BASE=http://localhost:8080</span></span>
<span class="line"><span>.env.dev2</span></span>
<span class="line"><span>VITE_PORT=5174</span></span>
<span class="line"><span>VITE_API_BASE=http://localhost:8081</span></span>
<span class="line"><span>vite.config.js</span></span>
<span class="line"><span>export default defineConfig(({ mode }) =&gt; ({</span></span>
<span class="line"><span>  server: { port: Number(process.env.VITE_PORT) || 5173 }</span></span>
<span class="line"><span>}))</span></span></code></pre></div><p>运行：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --mode</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev2</span></span></code></pre></div><p>访问：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>http://localhost:5173 → 对应后端 8080</span></span>
<span class="line"><span>http://localhost:5174 → 对应后端 8081</span></span></code></pre></div><hr><h2 id="三、前后端多端口联调示例" tabindex="-1">三、前后端多端口联调示例 <a class="header-anchor" href="#三、前后端多端口联调示例" aria-label="Permalink to “三、前后端多端口联调示例”">​</a></h2><table tabindex="0"><thead><tr><th>环境</th><th>前端端口</th><th>后端端口</th><th>说明</th></tr></thead><tbody><tr><td>dev1</td><td>5173</td><td>8080</td><td>开发环境</td></tr><tr><td>dev2</td><td>5174</td><td>8081</td><td>测试环境</td></tr></tbody></table><p>浏览器访问：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>http://localhost:5173  -&gt; API: http://localhost:8080</span></span>
<span class="line"><span>http://localhost:5174  -&gt; API: http://localhost:8081</span></span></code></pre></div><hr><h2 id="四、注意事项" tabindex="-1">四、注意事项 <a class="header-anchor" href="#四、注意事项" aria-label="Permalink to “四、注意事项”">​</a></h2><ul><li>每个实例端口必须唯一（否则会冲突）</li><li>确保后端已配置 CORS（允许不同端口访问）</li><li>建议不同环境使用 <code>.env</code> + profile 管理</li><li>浏览器端口不同 → localStorage/sessionStorage 不会冲突</li></ul><hr><p>✅ <strong>一句话总结：</strong></p><blockquote><p>Spring Boot 用 <code>--server.port</code>，Vue3 用 <code>--port</code>， 分别开不同端口运行，就能轻松实现前后端多实例联调。</p></blockquote>`,40)])])}const c=i(t,[["render",l]]);export{g as __pageData,c as default};
